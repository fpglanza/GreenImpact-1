{"ast":null,"code":"var startUserTimer = function startUserTimer() {\n  var winpointsBTN = document.getElementById('increaseWinpointsBTN');\n  winpointsBTN.addEventListener(\"click\", function () {\n    localStorage.setItem(\"endTime\", new Date().getTime() + 900);\n    localStorage.setItem(\"timerRunning\", true);\n    winpointsBTN.style.display = \"none\";\n    $timer_interval = setInterval(timer, 1000);\n  });\n};\n\nvar timer = function timer() {\n  if (localStorage.getItem(\"timerRunning\")) {\n    var timer_clock = document.getElementById('timer_clock');\n    var now = new Date().getTime();\n    var delta = parseInt(localStorage.getItem(\"endTime\")) - now; // milliseconds elapsed since start\n\n    var minutes = Math.floor(delta % (1000 * 60 * 60) / (1000 * 60));\n    var seconds = Math.floor(delta % (1000 * 60) / 1000);\n    timer_clock.innerHTML = \"Time until respawn: \".concat(minutes, \":\").concat(seconds);\n  }\n\n  if (delta <= 0) {\n    stopUserTimer();\n  }\n};\n\nvar stopUserTimer = function stopUserTimer() {\n  var winpointsBTN = document.getElementById('increaseWinpointsBTN');\n  localStorage.removeItem(\"endTime\");\n  localStorage.removeItem(\"timerRunning\");\n  clearInterval($timer_interval);\n  winpointsBTN.style.display = \"\";\n};\n\nexport { startUserTimer };","map":{"version":3,"sources":["/Users/cornelius/Code/GreenImpact-1/app/javascript/components/user_timer.js"],"names":["startUserTimer","winpointsBTN","document","getElementById","addEventListener","localStorage","setItem","Date","getTime","style","display","$timer_interval","setInterval","timer","getItem","timer_clock","now","delta","parseInt","minutes","Math","floor","seconds","innerHTML","stopUserTimer","removeItem","clearInterval"],"mappings":"AAAA,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,MAAMC,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,CAArB;AACAF,EAAAA,YAAY,CAACG,gBAAb,CAA8B,OAA9B,EAAuC,YAAM;AAC3CC,IAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAiC,IAAIC,IAAJ,GAAWC,OAAX,KAAuB,GAAxD;AACAH,IAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqC,IAArC;AACAL,IAAAA,YAAY,CAACQ,KAAb,CAAmBC,OAAnB,GAA6B,MAA7B;AACAC,IAAAA,eAAe,GAAGC,WAAW,CAACC,KAAD,EAAQ,IAAR,CAA7B;AACD,GALD;AAMD,CARD;;AAWC,IAAMA,KAAK,GAAG,SAARA,KAAQ,GAAM;AACnB,MAAIR,YAAY,CAACS,OAAb,CAAqB,cAArB,CAAJ,EAA0C;AACxC,QAAMC,WAAW,GAAGb,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAApB;AACA,QAAIa,GAAG,GAAG,IAAIT,IAAJ,GAAWC,OAAX,EAAV;AACA,QAAIS,KAAK,GAAGC,QAAQ,CAACb,YAAY,CAACS,OAAb,CAAqB,SAArB,CAAD,CAAR,GAA4CE,GAAxD,CAHwC,CAGqB;;AAC7D,QAAIG,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAYJ,KAAK,IAAI,OAAO,EAAP,GAAY,EAAhB,CAAN,IAA8B,OAAO,EAArC,CAAX,CAAd;AACA,QAAIK,OAAO,GAAGF,IAAI,CAACC,KAAL,CAAYJ,KAAK,IAAI,OAAO,EAAX,CAAN,GAAwB,IAAnC,CAAd;AACAF,IAAAA,WAAW,CAACQ,SAAZ,iCAA+CJ,OAA/C,cAA0DG,OAA1D;AACD;;AACD,MAAIL,KAAK,IAAI,CAAb,EAAgB;AACdO,IAAAA,aAAa;AACd;AACD,CAZD;;AAcD,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,MAAMvB,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,CAArB;AACAE,EAAAA,YAAY,CAACoB,UAAb,CAAwB,SAAxB;AACApB,EAAAA,YAAY,CAACoB,UAAb,CAAwB,cAAxB;AACAC,EAAAA,aAAa,CAACf,eAAD,CAAb;AACAV,EAAAA,YAAY,CAACQ,KAAb,CAAmBC,OAAnB,GAA6B,EAA7B;AACD,CAND;;AAOA,SAASV,cAAT","sourcesContent":["const startUserTimer = () => {\n  const winpointsBTN = document.getElementById('increaseWinpointsBTN');\n  winpointsBTN.addEventListener(\"click\", () => {\n    localStorage.setItem(\"endTime\", (new Date().getTime() + 900));\n    localStorage.setItem(\"timerRunning\", true);\n    winpointsBTN.style.display = \"none\";\n    $timer_interval = setInterval(timer, 1000);\n  });\n};\n\n\n const timer = () => {\n  if (localStorage.getItem(\"timerRunning\")) {\n    const timer_clock = document.getElementById('timer_clock');\n    var now = new Date().getTime();\n    var delta = parseInt(localStorage.getItem(\"endTime\")) - now; // milliseconds elapsed since start\n    var minutes = Math.floor((delta % (1000 * 60 * 60)) / (1000 * 60));\n    var seconds = Math.floor((delta % (1000 * 60)) / 1000);\n    timer_clock.innerHTML = `Time until respawn: ${minutes}:${seconds}`;\n  }\n  if (delta <= 0) {\n    stopUserTimer();\n  }\n };\n\nconst stopUserTimer = () => {\n  const winpointsBTN = document.getElementById('increaseWinpointsBTN');\n  localStorage.removeItem(\"endTime\");\n  localStorage.removeItem(\"timerRunning\");\n  clearInterval($timer_interval);\n  winpointsBTN.style.display = \"\";\n};\nexport { startUserTimer }"]},"metadata":{},"sourceType":"module"}